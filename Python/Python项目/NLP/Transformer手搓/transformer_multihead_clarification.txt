这里可能有点误解，其实不是先做一次线性变换降维到64维，然后再分成8组。正确的过程是这样的：

1. 输入序列（比如长度3，每个词512维）的矩阵是3×512
2. 对于8头注意力，我们会同时应用8组**独立的线性变换**（每组都有Q、K、V三个变换矩阵）
3. 每组线性变换都把512维直接降到64维，所以每组变换后得到的Q、K、V矩阵都是3×64
4. 这样一次性就得到了8组3×64的Q矩阵、8组3×64的K矩阵、8组3×64的V矩阵

简单来说，「8头」就意味着有8套独立的Q/K/V线性变换权重，所以是直接并行处理8组变换，而不是先降维再分组。

接下来每组3×64的Q/K/V会独立计算注意力，得到8组3×64的输出结果，最后再把这些结果拼接回3×512的维度。